// Isi dropdown tahun lulus otomatis
const tahunSelect = document.getElementById("tahunLulus");
const tahunSekarang = new Date().getFullYear();
for (let i = tahunSekarang; i >= 2000; i--) {
  const option = document.createElement("option");
  option.value = i;
  option.textContent = i;
  tahunSelect.appendChild(option);
}

// Multi-step form
const steps = document.querySelectorAll(".form-step");
const nextBtns = document.querySelectorAll(".next-btn");
const prevBtns = document.querySelectorAll(".prev-btn");
const progress = document.getElementById("progress");
const circles = document.querySelectorAll(".circle");

let currentStep = 0;

nextBtns.forEach(btn => {
  btn.addEventListener("click", () => {
    if (currentStep < steps.length - 1) {
      steps[currentStep].classList.remove("active");
      currentStep++;
      steps[currentStep].classList.add("active");
      updateProgress();
    }
  });
});

prevBtns.forEach(btn => {
  btn.addEventListener("click", () => {
    if (currentStep > 0) {
      steps[currentStep].classList.remove("active");
      currentStep--;
      steps[currentStep].classList.add("active");
      updateProgress();
    }
  });
});

function updateProgress() {
  circles.forEach((circle, idx) => {
    if (idx <= currentStep) {
      circle.classList.add("active");
    } else {
      circle.classList.remove("active");
    }
  });

  const actives = document.querySelectorAll(".circle.active");
  progress.style.width = ((actives.length - 1) / (circles.length - 1)) * 100 + "%";
}

// Fungsi kirim data
function kirimData() {
  alert("âœ… Data pendaftaran berhasil dikirim!\nTerima kasih telah mendaftar di Universitas 17 Agustus.");
  return false;
}
